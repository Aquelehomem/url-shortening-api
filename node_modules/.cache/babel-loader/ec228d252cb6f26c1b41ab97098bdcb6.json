{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vaca\\\\Desktop\\\\projetos\\\\react\\\\url-shortening-api-master\\\\src\\\\components\\\\Main\\\\Section1\\\\Form.js\";\nimport React, { useState } from 'react';\nimport './Form.scss';\nimport ShortenLinks from './ShortenLinks';\n\nconst Form = () => {\n  var [emptyInput, setEmptyInput] = useState();\n\n  async function sendLink(e) {\n    e.preventDefault();\n    var link = `https://${emptyInput}`;\n    console.log(link);\n    var value = await fetch(`https://rel.ink/api/links/?url=${link}`, {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        url: link\n      })\n    });\n    var resData = await value.json();\n\n    if (resData.url[0] === \"Enter a valid URL.\") {\n      setEmptyInput('');\n      return;\n    }\n\n    var links = [];\n\n    if (localStorage.getItem('links') === null) {\n      links.push({\n        url: resData.url,\n        shortUrl: 'rel.ink' + resData.hashid\n      });\n      localStorage.setItem('links', JSON.stringify(links));\n    } else {\n      links = JSON.parse(localStorage.getItem('links'));\n      links.push({\n        url: resData.url,\n        shortUrl: 'rel.ink' + resData.hashid\n      });\n      localStorage.setItem('links', JSON.stringify(links));\n    }\n  }\n\n  return React.createElement(\"form\", {\n    onSubmit: e => sendLink(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: emptyInput === \"\" ? \"error\" : \"\",\n    onBlur: e => setEmptyInput(e.target.value),\n    onChange: e => setEmptyInput(e.target.value),\n    type: \"text\",\n    placeholder: \"Shorten a link here...\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }), emptyInput === \"\" ? React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Please add a link\") : \"\", React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"Shorten It!\"));\n};\n\nexport default Form;","map":{"version":3,"sources":["C:/Users/vaca/Desktop/projetos/react/url-shortening-api-master/src/components/Main/Section1/Form.js"],"names":["React","useState","ShortenLinks","Form","emptyInput","setEmptyInput","sendLink","e","preventDefault","link","console","log","value","fetch","method","headers","body","JSON","stringify","url","resData","json","links","localStorage","getItem","push","shortUrl","hashid","setItem","parse","target"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,QAAd,QAA6B,OAA7B;AACA,OAAO,aAAP;AACA,OAAOC,YAAP,MAAyB,gBAAzB;;AACA,MAAMC,IAAI,GAAG,MAAM;AAClB,MAAI,CAACC,UAAD,EAAYC,aAAZ,IAA2BJ,QAAQ,EAAvC;;AACA,iBAAeK,QAAf,CAAwBC,CAAxB,EAA0B;AACzBA,IAAAA,CAAC,CAACC,cAAF;AACA,QAAIC,IAAI,GAAE,WAAUL,UAAW,EAA/B;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,QAAIG,KAAK,GAAC,MAAMC,KAAK,CAAE,kCAAiCJ,IAAK,EAAxC,EAA0C;AAACK,MAAAA,MAAM,EAAC,MAAR;AAC9DC,MAAAA,OAAO,EACP;AACC,wBAAgB;AADjB,OAF8D;AAK9DC,MAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAe;AAACC,QAAAA,GAAG,EAACV;AAAL,OAAf;AALyD,KAA1C,CAArB;AAQA,QAAIW,OAAO,GAAC,MAAMR,KAAK,CAACS,IAAN,EAAlB;;AACA,QAAGD,OAAO,CAACD,GAAR,CAAY,CAAZ,MAAiB,oBAApB,EAAyC;AACxCd,MAAAA,aAAa,CAAC,EAAD,CAAb;AACA;AACA;;AAED,QAAIiB,KAAK,GAAC,EAAV;;AACA,QAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,MAAgC,IAAnC,EAAwC;AACvCF,MAAAA,KAAK,CAACG,IAAN,CAAW;AAACN,QAAAA,GAAG,EAACC,OAAO,CAACD,GAAb;AAAiBO,QAAAA,QAAQ,EAAC,YAAUN,OAAO,CAACO;AAA5C,OAAX;AACAJ,MAAAA,YAAY,CAACK,OAAb,CAAqB,OAArB,EAA6BX,IAAI,CAACC,SAAL,CAAeI,KAAf,CAA7B;AACA,KAHD,MAGK;AACJA,MAAAA,KAAK,GAACL,IAAI,CAACY,KAAL,CAAWN,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAN;AACAF,MAAAA,KAAK,CAACG,IAAN,CAAW;AAACN,QAAAA,GAAG,EAACC,OAAO,CAACD,GAAb;AAAiBO,QAAAA,QAAQ,EAAC,YAAUN,OAAO,CAACO;AAA5C,OAAX;AACAJ,MAAAA,YAAY,CAACK,OAAb,CAAqB,OAArB,EAA6BX,IAAI,CAACC,SAAL,CAAeI,KAAf,CAA7B;AACA;AACD;;AACD,SACC;AAAM,IAAA,QAAQ,EAAGf,CAAD,IAAKD,QAAQ,CAACC,CAAD,CAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAO,IAAA,SAAS,EAAEH,UAAU,KAAG,EAAb,GAAgB,OAAhB,GAAwB,EAA1C;AACA,IAAA,MAAM,EAAGG,CAAD,IAAKF,aAAa,CAACE,CAAC,CAACuB,MAAF,CAASlB,KAAV,CAD1B;AAEA,IAAA,QAAQ,EAAGL,CAAD,IAAKF,aAAa,CAACE,CAAC,CAACuB,MAAF,CAASlB,KAAV,CAF5B;AAGA,IAAA,IAAI,EAAC,MAHL;AAIA,IAAA,WAAW,EAAC,wBAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,EAMER,UAAU,KAAG,EAAb,GAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAhB,GAA+C,EANjD,EAOC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAPD,CADD;AAWA,CAzCD;;AA2CA,eAAeD,IAAf","sourcesContent":["import React,{useState} from 'react'\r\nimport './Form.scss'\r\nimport ShortenLinks from './ShortenLinks'\r\nconst Form = () => {\r\n\tvar [emptyInput,setEmptyInput]=useState()\r\n\tasync function sendLink(e){\r\n\t\te.preventDefault()\r\n\t\tvar link=`https://${emptyInput}`\r\n\t\tconsole.log(link)\r\n\t\tvar value=await fetch(`https://rel.ink/api/links/?url=${link}`,{method:'POST',\r\n\t\t\theaders: \r\n\t\t\t{\r\n\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t},\r\n\t\t\tbody:JSON.stringify({url:link})\r\n\r\n\t\t})\r\n\t\tvar resData=await value.json()\r\n\t\tif(resData.url[0]===\"Enter a valid URL.\"){\r\n\t\t\tsetEmptyInput('')\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tvar links=[]\r\n\t\tif(localStorage.getItem('links')===null){\r\n\t\t\tlinks.push({url:resData.url,shortUrl:'rel.ink'+resData.hashid})\r\n\t\t\tlocalStorage.setItem('links',JSON.stringify(links))\t\t\t\r\n\t\t}else{\r\n\t\t\tlinks=JSON.parse(localStorage.getItem('links'))\r\n\t\t\tlinks.push({url:resData.url,shortUrl:'rel.ink'+resData.hashid})\r\n\t\t\tlocalStorage.setItem('links',JSON.stringify(links))\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<form onSubmit={(e)=>sendLink(e)}>\r\n\t\t\t<input className={emptyInput===\"\"?\"error\":\"\"}\r\n\t\t\tonBlur={(e)=>setEmptyInput(e.target.value)}\r\n\t\t\tonChange={(e)=>setEmptyInput(e.target.value)}\r\n\t\t\ttype=\"text\"\r\n\t\t\tplaceholder=\"Shorten a link here...\"/>\r\n\t\t\t{emptyInput===\"\"?<span>Please add a link</span>:\"\"}\r\n\t\t\t<button>Shorten It!</button>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nexport default Form"]},"metadata":{},"sourceType":"module"}